{
  "name": "ai-inference-openai-contracts",
  "version": "0.1.0",
  "generatedAt": "2025-09-12T03:09:42.077Z",
  "commands": {
    "GenerateCompletion": {
      "input": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "minLength": 1,
            "maxLength": 10000
          },
          "model": {
            "type": "string"
          },
          "maxTokens": {
            "type": "integer",
            "minimum": 1,
            "maximum": 4096
          },
          "temperature": {
            "type": "number",
            "minimum": 0,
            "maximum": 2
          },
          "userId": {
            "type": "string",
            "minLength": 1
          },
          "systemMessage": {
            "type": "string"
          },
          "context": {
            "type": "object"
          }
        },
        "required": [
          "prompt",
          "model",
          "maxTokens",
          "temperature",
          "userId"
        ]
      },
      "output": {
        "type": "object",
        "properties": {
          "completionId": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "usage": {
            "type": "object",
            "properties": {
              "promptTokens": {
                "type": "integer"
              },
              "completionTokens": {
                "type": "integer"
              },
              "totalTokens": {
                "type": "integer"
              }
            },
            "required": [
              "promptTokens",
              "completionTokens",
              "totalTokens"
            ]
          },
          "finishReason": {
            "type": "string",
            "enum": [
              "stop",
              "length",
              "content_filter",
              "error"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "error": {
            "type": "string"
          }
        },
        "required": [
          "completionId",
          "content",
          "model",
          "usage",
          "finishReason",
          "createdAt"
        ]
      }
    }
  },
  "events": {
    "ai.completion.generated.v1": {
      "type": "object",
      "properties": {
        "completionId": {
          "type": "string"
        },
        "userId": {
          "type": "string"
        },
        "model": {
          "type": "string"
        },
        "promptLength": {
          "type": "integer"
        },
        "completionLength": {
          "type": "integer"
        },
        "usage": {
          "type": "object",
          "properties": {
            "promptTokens": {
              "type": "integer"
            },
            "completionTokens": {
              "type": "integer"
            },
            "totalTokens": {
              "type": "integer"
            }
          }
        },
        "finishReason": {
          "type": "string"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "context": {
          "type": "object"
        }
      },
      "required": [
        "completionId",
        "userId",
        "model",
        "promptLength",
        "completionLength",
        "usage",
        "finishReason",
        "generatedAt"
      ]
    }
  }
}